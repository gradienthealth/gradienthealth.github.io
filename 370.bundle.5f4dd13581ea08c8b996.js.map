{"version":3,"file":"370.bundle.5f4dd13581ea08c8b996.js","mappings":"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","sources":["webpack:///../../../../GradientExtensionsAndModes/modes/breast-density-mode/src/windowLevelPresets.js","webpack:///../../../../GradientExtensionsAndModes/modes/breast-density-mode/src/hotkeyBindings.js","webpack:///../../../../GradientExtensionsAndModes/modes/breast-density-mode/src/toolbarButtons.js","webpack:///../../../../GradientExtensionsAndModes/modes/breast-density-mode/src/id.js","webpack:///../../../../GradientExtensionsAndModes/modes/breast-density-mode/src/initToolGroups.js","webpack:///../../../../GradientExtensionsAndModes/modes/breast-density-mode/src/index.tsx"],"sourcesContent":["export default {\n    1: { description: 'Normal', window: '900', level: '2850' },\n    2: { description: 'Harder', window: '750', level: '2850' },\n    3: { description: 'Softer', window: '1050', level: '2850' },\n};\n","import windowLevelPresets from './windowLevelPresets';\n\n/*\n * Supported Keys: https://craig.is/killing/mice\n */\nconst bindings = [\n  {\n    commandName: 'setToolActive',\n    commandOptions: { toolName: 'Zoom' },\n    label: 'Zoom',\n    keys: ['z'],\n    isEditable: true,\n  },\n  {\n    commandName: 'scaleUpViewport',\n    label: 'Zoom In',\n    keys: ['+'],\n    isEditable: true,\n  },\n  {\n    commandName: 'scaleDownViewport',\n    label: 'Zoom Out',\n    keys: ['-'],\n    isEditable: true,\n  },\n  {\n    commandName: 'fitViewportToWindow',\n    label: 'Zoom to Fit',\n    keys: ['='],\n    isEditable: true,\n  },\n  {\n    commandName: 'rotateViewportCW',\n    label: 'Rotate Right',\n    keys: ['r'],\n    isEditable: true,\n  },\n  {\n    commandName: 'rotateViewportCCW',\n    label: 'Rotate Left',\n    keys: ['l'],\n    isEditable: true,\n  },\n  {\n    commandName: 'flipViewportHorizontal',\n    label: 'Flip Horizontally',\n    keys: ['h'],\n    isEditable: true,\n  },\n  {\n    commandName: 'flipViewportVertical',\n    label: 'Flip Vertically',\n    keys: ['v'],\n    isEditable: true,\n  },\n  {\n    commandName: 'toggleCine',\n    label: 'Cine',\n    keys: ['c'],\n  },\n  {\n    commandName: 'invertViewport',\n    label: 'Invert',\n    keys: ['i'],\n    isEditable: true,\n  },\n  {\n    commandName: 'incrementActiveViewport',\n    label: 'Next Image Viewport',\n    keys: ['right'],\n    isEditable: true,\n  },\n  {\n    commandName: 'decrementActiveViewport',\n    label: 'Previous Image Viewport',\n    keys: ['left'],\n    isEditable: true,\n  },\n  {\n    commandName: 'nextViewportDisplaySet',\n    label: 'Next Series',\n    keys: ['pageup'],\n    isEditable: true,\n  },\n  {\n    commandName: 'previousViewportDisplaySet',\n    label: 'Previous Series',\n    keys: ['pagedown'],\n    isEditable: true,\n  },\n  {\n    commandName: 'nextImage',\n    label: 'Next Image',\n    keys: ['down'],\n    isEditable: true,\n  },\n  {\n    commandName: 'previousImage',\n    label: 'Previous Image',\n    keys: ['up'],\n    isEditable: true,\n  },\n  {\n    commandName: 'firstImage',\n    label: 'First Image',\n    keys: ['home'],\n    isEditable: true,\n  },\n  {\n    commandName: 'lastImage',\n    label: 'Last Image',\n    keys: ['end'],\n    isEditable: true,\n  },\n  {\n    commandName: 'resetViewport',\n    label: 'Reset',\n    keys: ['space'],\n    isEditable: true,\n  },\n  {\n    commandName: 'cancelMeasurement',\n    label: 'Cancel Cornerstone Measurement',\n    keys: ['esc'],\n  },\n  {\n    commandName: 'setWindowLevel',\n    commandOptions: windowLevelPresets[1],\n    label: 'W/L Preset 1',\n    keys: ['1'],\n  },\n  {\n    commandName: 'setWindowLevel',\n    commandOptions: windowLevelPresets[2],\n    label: 'W/L Preset 2',\n    keys: ['2'],\n  },\n  {\n    commandName: 'setWindowLevel',\n    commandOptions: windowLevelPresets[3],\n    label: 'W/L Preset 3',\n    keys: ['3'],\n  }\n];\n\nexport default bindings;\n","// TODO: torn, can either bake this here; or have to create a whole new button type\n// Only ways that you can pass in a custom React component for render :l\nimport {\n  // ExpandableToolbarButton,\n  // ListMenu,\n  WindowLevelMenuItem,\n} from '@ohif/ui';\nimport windowLevelPresets from './windowLevelPresets';\n\n/**\n *\n * @param {*} type - 'tool' | 'action' | 'toggle'\n * @param {*} id\n * @param {*} icon\n * @param {*} label\n */\nfunction _createButton(type, id, icon, label, commands, tooltip) {\n  return {\n    id,\n    icon,\n    label,\n    type,\n    commands,\n    tooltip,\n  };\n}\n\nconst _createActionButton = _createButton.bind(null, 'action');\nconst _createToggleButton = _createButton.bind(null, 'toggle');\nconst _createToolButton = _createButton.bind(null, 'tool');\n\n/**\n *\n * @param {*} preset - preset number (from above import)\n * @param {*} title\n * @param {*} subtitle\n */\nfunction _createWwwcPreset(preset, title, subtitle) {\n  return {\n    id: preset.toString(),\n    title,\n    subtitle,\n    type: 'action',\n    commands: [\n      {\n        commandName: 'setWindowLevel',\n        commandOptions: {\n          ...windowLevelPresets[preset],\n        },\n        context: 'CORNERSTONE',\n      },\n    ],\n  };\n}\n\nconst toolbarButtons = [\n  // Measurement\n  {\n    id: 'MeasurementTools',\n    type: 'ohif.splitButton',\n    props: {\n      groupId: 'MeasurementTools',\n      isRadio: true, // ?\n      // Switch?\n      primary: _createToolButton(\n        'Length',\n        'tool-length',\n        'Length',\n        [\n          {\n            commandName: 'setToolActive',\n            commandOptions: {\n              toolName: 'Length',\n            },\n            context: 'CORNERSTONE',\n          },\n          {\n            commandName: 'setToolActive',\n            commandOptions: {\n              toolName: 'SRLength',\n              toolGroupId: 'SRToolGroup',\n            },\n            // we can use the setToolActive command for this from Cornerstone commandsModule\n            context: 'CORNERSTONE',\n          },\n        ],\n        'Length'\n      ),\n      secondary: {\n        icon: 'chevron-down',\n        label: '',\n        isActive: true,\n        tooltip: 'More Measure Tools',\n      },\n      items: [\n        _createToolButton(\n          'Length',\n          'tool-length',\n          'Length',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'Length',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SRLength',\n                toolGroupId: 'SRToolGroup',\n              },\n              // we can use the setToolActive command for this from Cornerstone commandsModule\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Length Tool'\n        ),\n        _createToolButton(\n          'Bidirectional',\n          'tool-bidirectional',\n          'Bidirectional',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'Bidirectional',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SRBidirectional',\n                toolGroupId: 'SRToolGroup',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Bidirectional Tool'\n        ),\n        _createToolButton(\n          'ArrowAnnotate',\n          'tool-annotate',\n          'Annotation',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'ArrowAnnotate',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SRArrowAnnotate',\n                toolGroupId: 'SRToolGroup',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Arrow Annotate'\n        ),\n        _createToolButton(\n          'EllipticalROI',\n          'tool-elipse',\n          'Ellipse',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'EllipticalROI',\n              },\n              context: 'CORNERSTONE',\n            },\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'SREllipticalROI',\n                toolGroupId: 'SRToolGroup',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Ellipse Tool'\n        ),\n      ],\n    },\n  },\n  // Zoom..\n  {\n    id: 'Zoom',\n    type: 'ohif.radioGroup',\n    props: {\n      type: 'tool',\n      icon: 'tool-zoom',\n      label: 'Zoom',\n      commands: [\n        {\n          commandName: 'setToolActive',\n          commandOptions: {\n            toolName: 'Zoom',\n          },\n          context: 'CORNERSTONE',\n        },\n      ],\n    },\n  },\n  // Window Level + Presets...\n  {\n    id: 'WindowLevel',\n    type: 'ohif.splitButton',\n    props: {\n      groupId: 'WindowLevel',\n      primary: _createToolButton(\n        'WindowLevel',\n        'tool-window-level',\n        'Window Level',\n        [\n          {\n            commandName: 'setToolActive',\n            commandOptions: {\n              toolName: 'WindowLevel',\n            },\n            context: 'CORNERSTONE',\n          },\n        ],\n        'Window Level'\n      ),\n      secondary: {\n        icon: 'chevron-down',\n        label: 'W/L Manual',\n        isActive: true,\n        tooltip: 'W/L Presets',\n      },\n      isAction: true, // ?\n      renderer: WindowLevelMenuItem,\n      items: [\n        _createWwwcPreset(1, 'Normal', '2850 / 900'),\n        _createWwwcPreset(2, 'Harder', '2850 / 750'),\n        _createWwwcPreset(3, 'Softer', '2850 / 1050'),\n      ],\n    },\n  },\n  // Pan...\n  {\n    id: 'Pan',\n    type: 'ohif.radioGroup',\n    props: {\n      type: 'tool',\n      icon: 'tool-move',\n      label: 'Pan',\n      commands: [\n        {\n          commandName: 'setToolActive',\n          commandOptions: {\n            toolName: 'Pan',\n          },\n          context: 'CORNERSTONE',\n        },\n      ],\n    },\n  },\n  {\n    id: 'Capture',\n    type: 'ohif.action',\n    props: {\n      icon: 'tool-capture',\n      label: 'Capture',\n      type: 'action',\n      commands: [\n        {\n          commandName: 'showDownloadViewportModal',\n          commandOptions: {},\n          context: 'CORNERSTONE',\n        },\n      ],\n    },\n  },\n  {\n    id: 'Layout',\n    type: 'ohif.layoutSelector',\n    props: {\n      rows: 2,\n      columns: 4\n    }\n  },\n  // More...\n  {\n    id: 'MoreTools',\n    type: 'ohif.splitButton',\n    props: {\n      isRadio: true, // ?\n      groupId: 'MoreTools',\n      primary: _createActionButton(\n        'Reset',\n        'tool-reset',\n        'Reset View',\n        [\n          {\n            commandName: 'resetViewport',\n            commandOptions: {},\n            context: 'CORNERSTONE',\n          },\n        ],\n        'Reset'\n      ),\n      secondary: {\n        icon: 'chevron-down',\n        label: '',\n        isActive: true,\n        tooltip: 'More Tools',\n      },\n      items: [\n        _createActionButton(\n          'Reset',\n          'tool-reset',\n          'Reset View',\n          [\n            {\n              commandName: 'resetViewport',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Reset'\n        ),\n        _createActionButton(\n          'rotate-right',\n          'tool-rotate-right',\n          'Rotate Right',\n          [\n            {\n              commandName: 'rotateViewportCW',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Rotate +90'\n        ),\n        _createActionButton(\n          'flip-horizontal',\n          'tool-flip-horizontal',\n          'Flip Horizontally',\n          [\n            {\n              commandName: 'flipViewportHorizontal',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Flip Horizontal'\n        ),\n        _createToolButton(\n          'StackScroll',\n          'tool-stack-scroll',\n          'Stack Scroll',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'StackScroll',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Stack Scroll'\n        ),\n        _createActionButton(\n          'invert',\n          'tool-invert',\n          'Invert',\n          [\n            {\n              commandName: 'invertViewport',\n              commandOptions: {},\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Invert Colors'\n        ),\n        _createToolButton(\n          'Magnify',\n          'tool-magnify',\n          'Magnify',\n          [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'Magnify',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n          'Magnify'\n        ),\n      ],\n    },\n  },\n];\n\nexport default toolbarButtons;\n","import packageJson from '../package.json';\n\nconst id = packageJson.name;\n\nexport { id };\n","function initDefaultToolGroup(\n  extensionManager,\n  ToolGroupService,\n  commandsManager\n) {\n  const utilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames, Enums } = utilityModule.exports;\n\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [{ mouseButton: Enums.MouseBindings.Primary }],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [{ mouseButton: Enums.MouseBindings.Auxiliary }],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [{ mouseButton: Enums.MouseBindings.Secondary }],\n      },\n      { toolName: toolNames.StackScrollMouseWheel, bindings: [] },\n    ],\n    passive: [\n      { toolName: toolNames.Length },\n      { toolName: toolNames.ArrowAnnotate },\n      { toolName: toolNames.Bidirectional },\n      { toolName: toolNames.DragProbe },\n      { toolName: toolNames.EllipticalROI },\n      { toolName: toolNames.RectangleROI },\n      { toolName: toolNames.StackScroll },\n      { toolName: toolNames.Angle },\n      { toolName: toolNames.Magnify },\n    ],\n    // enabled\n    // disabled\n  };\n\n  const toolsConfig = {\n    [toolNames.ArrowAnnotate]: {\n      getTextCallback: (callback, eventDetails) =>\n        commandsManager.runCommand('arrowTextCallback', {\n          callback,\n          eventDetails,\n        }),\n\n      changeTextCallback: (data, eventDetails, callback) =>\n        commandsManager.runCommand('arrowTextCallback', {\n          callback,\n          data,\n          eventDetails,\n        }),\n    },\n  };\n\n  const toolGroupId = 'default';\n  ToolGroupService.createToolGroupAndAddTools(toolGroupId, tools, toolsConfig);\n}\n\nfunction initSRToolGroup(extensionManager, ToolGroupService, commandsManager) {\n  const SRUtilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone-dicom-sr.utilityModule.tools'\n  );\n\n  const CS3DUtilityModule = extensionManager.getModuleEntry(\n    '@ohif/extension-cornerstone.utilityModule.tools'\n  );\n\n  const { toolNames: SRToolNames } = SRUtilityModule.exports;\n  const { toolNames, Enums } = CS3DUtilityModule.exports;\n  const tools = {\n    active: [\n      {\n        toolName: toolNames.WindowLevel,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Primary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.Pan,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Auxiliary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.Zoom,\n        bindings: [\n          {\n            mouseButton: Enums.MouseBindings.Secondary,\n          },\n        ],\n      },\n      {\n        toolName: toolNames.StackScrollMouseWheel,\n        bindings: [],\n      },\n    ],\n    passive: [\n      { toolName: SRToolNames.SRLength },\n      { toolName: SRToolNames.SRArrowAnnotate },\n      { toolName: SRToolNames.SRBidirectional },\n      { toolName: SRToolNames.SREllipticalROI },\n    ],\n    enabled: [\n      {\n        toolName: SRToolNames.DICOMSRDisplay,\n        bindings: [],\n      },\n    ],\n    // disabled\n  };\n\n  const toolsConfig = {\n    [toolNames.ArrowAnnotate]: {\n      getTextCallback: (callback, eventDetails) =>\n        commandsManager.runCommand('arrowTextCallback', {\n          callback,\n          eventDetails,\n        }),\n\n      changeTextCallback: (data, eventDetails, callback) =>\n        commandsManager.runCommand('arrowTextCallback', {\n          callback,\n          data,\n          eventDetails,\n        }),\n    },\n  };\n\n  const toolGroupId = 'SRToolGroup';\n  ToolGroupService.createToolGroupAndAddTools(toolGroupId, tools, toolsConfig);\n}\n\nfunction initToolGroups(extensionManager, ToolGroupService, commandsManager) {\n  initDefaultToolGroup(extensionManager, ToolGroupService, commandsManager);\n  initSRToolGroup(extensionManager, ToolGroupService, commandsManager);\n}\n\nexport default initToolGroups;\n","import hotkeys from './hotkeyBindings.js';\nimport toolbarButtons from './toolbarButtons.js';\nimport { id } from './id.js';\nimport initToolGroups from './initToolGroups.js';\n\nconsole.log('gradienthealth', '@gradienthealth/breast-density-mode:0.0.2')\nconst ohif = {\n  layout: '@ohif/extension-default.layoutTemplateModule.viewerLayout',\n  sopClassHandler: '@ohif/extension-default.sopClassHandlerModule.stack',\n  hangingProtocols: '@ohif/extension-default.hangingProtocolModule.default',\n};\n\nconst gradienthealth = {\n  form: '@gradienthealth/ohif-gradienthealth-extension.panelModule.form',\n  measurements: '@gradienthealth/ohif-gradienthealth-extension.panelModule.measurements',\n  thumbnailList: '@gradienthealth/ohif-gradienthealth-extension.panelModule.seriesList',\n  viewport: '@gradienthealth/ohif-gradienthealth-extension.viewportModule.cornerstone-gradient',\n  hangingProtocols: '@gradienthealth/ohif-gradienthealth-extension.hangingProtocolModule.breast',\n};\n\nconst dicomsr = {\n  sopClassHandler:\n    '@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr',\n  viewport: '@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr',\n};\n\nconst dicomvideo = {\n  sopClassHandler:\n    '@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video',\n  viewport: '@ohif/extension-dicom-video.viewportModule.dicom-video',\n};\n\nconst dicompdf = {\n  sopClassHandler: '@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf',\n  viewport: '@ohif/extension-dicom-pdf.viewportModule.dicom-pdf',\n};\n\nconst extensionDependencies = {\n  // Can derive the versions at least process.env.from npm_package_version\n  '@ohif/extension-default': '^3.0.0',\n  '@ohif/extension-cornerstone': '^3.0.0',\n  '@ohif/extension-measurement-tracking': '^3.0.0',\n  '@ohif/extension-cornerstone-dicom-sr': '^3.0.0',\n  '@ohif/extension-dicom-pdf': '^3.0.1',\n  '@ohif/extension-dicom-video': '^3.0.1',\n};\n\nfunction modeFactory({ modeConfiguration }) {\n  return {\n    // TODO: We're using this as a route segment\n    // We should not be.\n    id,\n    routeName: 'breast_density',\n    displayName: 'Breast Density Viewer',\n    /**\n     * Lifecycle hooks\n     */\n    onModeEnter: ({ servicesManager, extensionManager, commandsManager }) => {\n      const { \n        ToolBarService, \n        ToolGroupService, \n        GoogleSheetsService, \n        CropDisplayAreaService,\n        CacheAPIService,\n      } = servicesManager.services;\n\n      GoogleSheetsService.init();\n      CropDisplayAreaService.init();\n      CacheAPIService.init();\n\n      // Init Default and SR ToolGroups\n      initToolGroups(extensionManager, ToolGroupService, commandsManager);\n\n      let unsubscribe;\n\n      const activateTool = () => {\n        ToolBarService.recordInteraction({\n          groupId: 'WindowLevel',\n          itemId: 'WindowLevel',\n          interactionType: 'tool',\n          commands: [\n            {\n              commandName: 'setToolActive',\n              commandOptions: {\n                toolName: 'WindowLevel',\n              },\n              context: 'CORNERSTONE',\n            },\n          ],\n        });\n\n        // We don't need to reset the active tool whenever a viewport is getting\n        // added to the toolGroup.\n        unsubscribe();\n      };\n\n      // Since we only have one viewport for the basic cs3d mode and it has\n      // only one hanging protocol, we can just use the first viewport\n      ({ unsubscribe } = ToolGroupService.subscribe(\n        ToolGroupService.EVENTS.VIEWPORT_ADDED,\n        activateTool\n      ));\n\n      ToolBarService.init(extensionManager);\n      ToolBarService.addButtons(toolbarButtons);\n      ToolBarService.createButtonSection('primary', [\n        'Zoom',\n        'WindowLevel',\n        'Pan',\n        'Layout',\n        'MoreTools',\n      ]);\n    },\n    onModeExit: ({ servicesManager }) => {\n      const {\n        ToolGroupService,\n        SyncGroupService,\n        MeasurementService,\n        ToolBarService,\n        GoogleSheetsService,\n        CacheAPIService,\n        CornerstoneViewportService,\n      } = servicesManager.services;\n      ToolBarService.reset();\n      MeasurementService.clearMeasurements();\n      ToolGroupService.destroy();\n      SyncGroupService.destroy();\n      GoogleSheetsService.destroy();\n      CacheAPIService.destroy();\n      CornerstoneViewportService.destroy();\n    },\n    validationTags: {\n      study: [],\n      series: [],\n    },\n    isValidMode: ({ modalities }) => {\n      const modalities_list = modalities.split('\\\\');\n\n      // Slide Microscopy modality not supported by basic mode yet\n      return !modalities_list.includes('SM');\n    },\n    routes: [\n      {\n        path: 'breast',\n        layoutTemplate: ({ location, servicesManager }) => {\n          const params = new URLSearchParams(location.search)\n          const rightPanels = params.get('sheetId') ? [gradienthealth.form] : []\n          return {\n            id: ohif.layout,\n            props: {\n              leftPanels: [gradienthealth.thumbnailList],\n              rightPanels: rightPanels,\n              leftPanelDefaultClosed: true,\n              rightPanelDefaultClosed: false,\n              viewports: [\n                {\n                  namespace: gradienthealth.viewport,\n                  displaySetsToDisplay: [ohif.sopClassHandler],\n                },\n                {\n                  namespace: dicomsr.viewport,\n                  displaySetsToDisplay: [dicomsr.sopClassHandler],\n                },\n                {\n                  namespace: dicomvideo.viewport,\n                  displaySetsToDisplay: [dicomvideo.sopClassHandler],\n                },\n                {\n                  namespace: dicompdf.viewport,\n                  displaySetsToDisplay: [dicompdf.sopClassHandler],\n                },\n              ],\n            },\n          };\n        },\n      },\n    ],\n    extensions: extensionDependencies,\n    hangingProtocol: 'breast',\n    // Order is important in sop class handlers when two handlers both use\n    // the same sop class under different situations.  In that case, the more\n    // general handler needs to come last.  For this case, the dicomvideo must\n    // come first to remove video transfer syntax before ohif uses images\n    sopClassHandlers: [\n      dicomvideo.sopClassHandler,\n      ohif.sopClassHandler,\n      dicompdf.sopClassHandler,\n      dicomsr.sopClassHandler,\n    ],\n    hotkeys: [...hotkeys],\n  };\n}\n\nconst mode = {\n  id,\n  modeFactory,\n  extensionDependencies,\n};\n\nexport default mode;\n"],"names":["description","window","level","commandName","commandOptions","toolName","label","keys","isEditable","windowLevelPresets","_createButton","type","id","icon","commands","tooltip","_createActionButton","bind","_createToolButton","_createWwwcPreset","preset","title","subtitle","toString","context","props","groupId","isRadio","primary","toolGroupId","secondary","isActive","items","isAction","renderer","WindowLevelMenuItem","rows","columns","packageJson","extensionManager","ToolGroupService","commandsManager","utilityModule","getModuleEntry","toolNames","Enums","exports","tools","active","WindowLevel","bindings","mouseButton","MouseBindings","Primary","Pan","Auxiliary","Zoom","Secondary","StackScrollMouseWheel","passive","Length","ArrowAnnotate","Bidirectional","DragProbe","EllipticalROI","RectangleROI","StackScroll","Angle","Magnify","toolsConfig","getTextCallback","callback","eventDetails","runCommand","changeTextCallback","data","createToolGroupAndAddTools","initDefaultToolGroup","SRUtilityModule","CS3DUtilityModule","SRToolNames","SRLength","SRArrowAnnotate","SRBidirectional","SREllipticalROI","enabled","DICOMSRDisplay","initSRToolGroup","console","log","ohif","gradienthealth","dicomsr","dicomvideo","dicompdf","extensionDependencies","modeFactory","_ref","modeConfiguration","routeName","displayName","onModeEnter","_ref2","servicesManager","ToolBarService","GoogleSheetsService","CropDisplayAreaService","CacheAPIService","services","unsubscribe","init","initToolGroups","subscribe","EVENTS","VIEWPORT_ADDED","activateTool","recordInteraction","itemId","interactionType","addButtons","toolbarButtons","createButtonSection","onModeExit","_ref3","SyncGroupService","MeasurementService","CornerstoneViewportService","reset","clearMeasurements","destroy","validationTags","study","series","isValidMode","_ref4","modalities","split","includes","routes","path","layoutTemplate","_ref5","location","rightPanels","URLSearchParams","search","get","leftPanels","leftPanelDefaultClosed","rightPanelDefaultClosed","viewports","namespace","displaySetsToDisplay","extensions","hangingProtocol","sopClassHandlers","hotkeys"],"sourceRoot":""}