"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[370],{69370:(e,o,t)=>{t.r(o),t.d(o,{default:()=>w});const a={1:{description:"Normal",window:"900",level:"2850"},2:{description:"Harder",window:"750",level:"2850"},3:{description:"Softer",window:"1050",level:"2850"}},n=[{commandName:"setToolActive",commandOptions:{toolName:"Zoom"},label:"Zoom",keys:["z"],isEditable:!0},{commandName:"scaleUpViewport",label:"Zoom In",keys:["+"],isEditable:!0},{commandName:"scaleDownViewport",label:"Zoom Out",keys:["-"],isEditable:!0},{commandName:"fitViewportToWindow",label:"Zoom to Fit",keys:["="],isEditable:!0},{commandName:"rotateViewportCW",label:"Rotate Right",keys:["r"],isEditable:!0},{commandName:"rotateViewportCCW",label:"Rotate Left",keys:["l"],isEditable:!0},{commandName:"flipViewportHorizontal",label:"Flip Horizontally",keys:["h"],isEditable:!0},{commandName:"flipViewportVertical",label:"Flip Vertically",keys:["v"],isEditable:!0},{commandName:"toggleCine",label:"Cine",keys:["c"]},{commandName:"invertViewport",label:"Invert",keys:["i"],isEditable:!0},{commandName:"incrementActiveViewport",label:"Next Image Viewport",keys:["right"],isEditable:!0},{commandName:"decrementActiveViewport",label:"Previous Image Viewport",keys:["left"],isEditable:!0},{commandName:"nextViewportDisplaySet",label:"Next Series",keys:["pageup"],isEditable:!0},{commandName:"previousViewportDisplaySet",label:"Previous Series",keys:["pagedown"],isEditable:!0},{commandName:"nextImage",label:"Next Image",keys:["down"],isEditable:!0},{commandName:"previousImage",label:"Previous Image",keys:["up"],isEditable:!0},{commandName:"firstImage",label:"First Image",keys:["home"],isEditable:!0},{commandName:"lastImage",label:"Last Image",keys:["end"],isEditable:!0},{commandName:"resetViewport",label:"Reset",keys:["space"],isEditable:!0},{commandName:"cancelMeasurement",label:"Cancel Cornerstone Measurement",keys:["esc"]},{commandName:"setWindowLevel",commandOptions:a[1],label:"W/L Preset 1",keys:["1"]},{commandName:"setWindowLevel",commandOptions:a[2],label:"W/L Preset 2",keys:["2"]},{commandName:"setWindowLevel",commandOptions:a[3],label:"W/L Preset 3",keys:["3"]}];var i=t(95303);function l(e,o,t,a,n,i){return{id:o,icon:t,label:a,type:e,commands:n,tooltip:i}}const s=l.bind(null,"action"),m=(l.bind(null,"toggle"),l.bind(null,"tool"));function r(e,o,t){return{id:e.toString(),title:o,subtitle:t,type:"action",commands:[{commandName:"setWindowLevel",commandOptions:{...a[e]},context:"CORNERSTONE"}]}}const c=[{id:"MeasurementTools",type:"ohif.splitButton",props:{groupId:"MeasurementTools",isRadio:!0,primary:m("Length","tool-length","Length",[{commandName:"setToolActive",commandOptions:{toolName:"Length"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRLength",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Length"),secondary:{icon:"chevron-down",label:"",isActive:!0,tooltip:"More Measure Tools"},items:[m("Length","tool-length","Length",[{commandName:"setToolActive",commandOptions:{toolName:"Length"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRLength",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Length Tool"),m("Bidirectional","tool-bidirectional","Bidirectional",[{commandName:"setToolActive",commandOptions:{toolName:"Bidirectional"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRBidirectional",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Bidirectional Tool"),m("ArrowAnnotate","tool-annotate","Annotation",[{commandName:"setToolActive",commandOptions:{toolName:"ArrowAnnotate"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SRArrowAnnotate",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Arrow Annotate"),m("EllipticalROI","tool-elipse","Ellipse",[{commandName:"setToolActive",commandOptions:{toolName:"EllipticalROI"},context:"CORNERSTONE"},{commandName:"setToolActive",commandOptions:{toolName:"SREllipticalROI",toolGroupId:"SRToolGroup"},context:"CORNERSTONE"}],"Ellipse Tool")]}},{id:"Zoom",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-zoom",label:"Zoom",commands:[{commandName:"setToolActive",commandOptions:{toolName:"Zoom"},context:"CORNERSTONE"}]}},{id:"WindowLevel",type:"ohif.splitButton",props:{groupId:"WindowLevel",primary:m("WindowLevel","tool-window-level","Window Level",[{commandName:"setToolActive",commandOptions:{toolName:"WindowLevel"},context:"CORNERSTONE"}],"Window Level"),secondary:{icon:"chevron-down",label:"W/L Manual",isActive:!0,tooltip:"W/L Presets"},isAction:!0,renderer:i.eJ,items:[r(1,"Normal","2850 / 900"),r(2,"Harder","2850 / 750"),r(3,"Softer","2850 / 1050")]}},{id:"Pan",type:"ohif.radioGroup",props:{type:"tool",icon:"tool-move",label:"Pan",commands:[{commandName:"setToolActive",commandOptions:{toolName:"Pan"},context:"CORNERSTONE"}]}},{id:"Capture",type:"ohif.action",props:{icon:"tool-capture",label:"Capture",type:"action",commands:[{commandName:"showDownloadViewportModal",commandOptions:{},context:"CORNERSTONE"}]}},{id:"Layout",type:"ohif.layoutSelector",props:{rows:2,columns:4}},{id:"MoreTools",type:"ohif.splitButton",props:{isRadio:!0,groupId:"MoreTools",primary:s("Reset","tool-reset","Reset View",[{commandName:"resetViewport",commandOptions:{},context:"CORNERSTONE"}],"Reset"),secondary:{icon:"chevron-down",label:"",isActive:!0,tooltip:"More Tools"},items:[s("Reset","tool-reset","Reset View",[{commandName:"resetViewport",commandOptions:{},context:"CORNERSTONE"}],"Reset"),s("rotate-right","tool-rotate-right","Rotate Right",[{commandName:"rotateViewportCW",commandOptions:{},context:"CORNERSTONE"}],"Rotate +90"),s("flip-horizontal","tool-flip-horizontal","Flip Horizontally",[{commandName:"flipViewportHorizontal",commandOptions:{},context:"CORNERSTONE"}],"Flip Horizontal"),m("StackScroll","tool-stack-scroll","Stack Scroll",[{commandName:"setToolActive",commandOptions:{toolName:"StackScroll"},context:"CORNERSTONE"}],"Stack Scroll"),s("invert","tool-invert","Invert",[{commandName:"invertViewport",commandOptions:{},context:"CORNERSTONE"}],"Invert Colors"),m("Magnify","tool-magnify","Magnify",[{commandName:"setToolActive",commandOptions:{toolName:"Magnify"},context:"CORNERSTONE"}],"Magnify")]}}],d=JSON.parse('{"u2":"@gradienthealth/breast-density-mode"}').u2;const p=function(e,o,t){!function(e,o,t){const a=e.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:n,Enums:i}=a.exports,l={active:[{toolName:n.WindowLevel,bindings:[{mouseButton:i.MouseBindings.Primary}]},{toolName:n.Pan,bindings:[{mouseButton:i.MouseBindings.Auxiliary}]},{toolName:n.Zoom,bindings:[{mouseButton:i.MouseBindings.Secondary}]},{toolName:n.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:n.Length},{toolName:n.ArrowAnnotate},{toolName:n.Bidirectional},{toolName:n.DragProbe},{toolName:n.EllipticalROI},{toolName:n.RectangleROI},{toolName:n.StackScroll},{toolName:n.Angle},{toolName:n.Magnify}]},s={[n.ArrowAnnotate]:{getTextCallback:(e,o)=>t.runCommand("arrowTextCallback",{callback:e,eventDetails:o}),changeTextCallback:(e,o,a)=>t.runCommand("arrowTextCallback",{callback:a,data:e,eventDetails:o})}};o.createToolGroupAndAddTools("default",l,s)}(e,o,t),function(e,o,t){const a=e.getModuleEntry("@ohif/extension-cornerstone-dicom-sr.utilityModule.tools"),n=e.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{toolNames:i}=a.exports,{toolNames:l,Enums:s}=n.exports,m={active:[{toolName:l.WindowLevel,bindings:[{mouseButton:s.MouseBindings.Primary}]},{toolName:l.Pan,bindings:[{mouseButton:s.MouseBindings.Auxiliary}]},{toolName:l.Zoom,bindings:[{mouseButton:s.MouseBindings.Secondary}]},{toolName:l.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:i.SRLength},{toolName:i.SRArrowAnnotate},{toolName:i.SRBidirectional},{toolName:i.SREllipticalROI}],enabled:[{toolName:i.DICOMSRDisplay,bindings:[]}]},r={[l.ArrowAnnotate]:{getTextCallback:(e,o)=>t.runCommand("arrowTextCallback",{callback:e,eventDetails:o}),changeTextCallback:(e,o,a)=>t.runCommand("arrowTextCallback",{callback:a,data:e,eventDetails:o})}};o.createToolGroupAndAddTools("SRToolGroup",m,r)}(e,o,t)};console.log("gradienthealth","@gradienthealth/breast-density-mode:0.0.2");const N="@ohif/extension-default.layoutTemplateModule.viewerLayout",u="@ohif/extension-default.sopClassHandlerModule.stack",g="@gradienthealth/ohif-gradienthealth-extension.panelModule.form",v="@gradienthealth/ohif-gradienthealth-extension.panelModule.seriesList",y="@gradienthealth/ohif-gradienthealth-extension.viewportModule.cornerstone-gradient",h="@ohif/extension-cornerstone-dicom-sr.sopClassHandlerModule.dicom-sr",b="@ohif/extension-cornerstone-dicom-sr.viewportModule.dicom-sr",S="@ohif/extension-dicom-video.sopClassHandlerModule.dicom-video",R="@ohif/extension-dicom-video.viewportModule.dicom-video",T="@ohif/extension-dicom-pdf.sopClassHandlerModule.dicom-pdf",O="@ohif/extension-dicom-pdf.viewportModule.dicom-pdf",E={"@ohif/extension-default":"^3.0.0","@ohif/extension-cornerstone":"^3.0.0","@ohif/extension-measurement-tracking":"^3.0.0","@ohif/extension-cornerstone-dicom-sr":"^3.0.0","@ohif/extension-dicom-pdf":"^3.0.1","@ohif/extension-dicom-video":"^3.0.1"};const w={id:d,modeFactory:function({modeConfiguration:e}){return{id:d,routeName:"breast_density",displayName:"Breast Density Viewer",onModeEnter:({servicesManager:e,extensionManager:o,commandsManager:t})=>{const{ToolBarService:a,ToolGroupService:n,GoogleSheetsService:i,CropDisplayAreaService:l,CacheAPIService:s}=e.services;let m;i.init(),l.init(),s.init(),p(o,n,t);({unsubscribe:m}=n.subscribe(n.EVENTS.VIEWPORT_ADDED,(()=>{a.recordInteraction({groupId:"WindowLevel",itemId:"WindowLevel",interactionType:"tool",commands:[{commandName:"setToolActive",commandOptions:{toolName:"WindowLevel"},context:"CORNERSTONE"}]}),m()}))),a.init(o),a.addButtons(c),a.createButtonSection("primary",["Zoom","WindowLevel","Pan","Layout","MoreTools"])},onModeExit:({servicesManager:e})=>{const{ToolGroupService:o,SyncGroupService:t,MeasurementService:a,ToolBarService:n,GoogleSheetsService:i,CacheAPIService:l,CornerstoneViewportService:s}=e.services;n.reset(),a.clearMeasurements(),o.destroy(),t.destroy(),i.destroy(),l.destroy(),s.destroy()},validationTags:{study:[],series:[]},isValidMode:({modalities:e})=>!e.split("\\").includes("SM"),routes:[{path:"breast",layoutTemplate:({location:e,servicesManager:o})=>{const t=new URLSearchParams(e.search).get("sheetId")?[g]:[];return{id:N,props:{leftPanels:[v],rightPanels:t,leftPanelDefaultClosed:!0,rightPanelDefaultClosed:!1,viewports:[{namespace:y,displaySetsToDisplay:[u]},{namespace:b,displaySetsToDisplay:[h]},{namespace:R,displaySetsToDisplay:[S]},{namespace:O,displaySetsToDisplay:[T]}]}}}}],extensions:E,hangingProtocol:"breast",sopClassHandlers:[S,u,T,h],hotkeys:[...n]}},extensionDependencies:E}}}]);
//# sourceMappingURL=370.bundle.ba69a7d7210fed6af03f.js.map